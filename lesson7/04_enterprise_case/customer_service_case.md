# 教程：企业客服知识库调优案例

## 学习目标
- 构建简化的客服知识库与对话策略。
- 模拟多轮问答，记录引用的知识文章与指标。
- 评估一次解决率、转人工率等关键指标，指导优化。

## 背景原理
企业客服系统通常由知识库和对话策略组成。通过检索相关文章、组合回答并监控指标，可以持续优化服务质量。一次解决率越高说明知识库覆盖充分；转人工率过高则提示需要补充内容或改进策略。

## 代码结构解析
- `KnowledgeArticle` / `ConversationTurn`：定义知识库文章和对话轮次。
- `CustomerServicePlaybook`：封装检索与回复生成逻辑，支持标签匹配与默认回答。
- `simulate_dialogue`：根据用户问题列表模拟对话流程。
- `evaluate_conversation`：计算一次解决率、转人工率。
- `main`：加载知识库、运行模拟并打印指标。

## 实践步骤
1. 准备真实知识库 JSON，字段包含 `title`、`content`、`tags`。
2. 运行脚本：
   ```bash
   python customer_service_case.py --kb kb.json --queries "密码重置" "客服转人工条件"
   ```
3. 检查控制台输出的对话内容与引用的文章编号，分析知识库命中情况。
4. 根据评估指标调整知识库内容、转人工策略或对齐数据，提升一次解决率。

## 拓展问题
- 如何接入真实检索模型（如向量检索）代替标签匹配？
- 能否根据用户满意度、处理时长等指标进一步评估客服表现？
- 将该模拟流程嵌入 A/B 测试，以验证新知识库或对齐模型的效果？
